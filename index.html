<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduFlow</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:Arial,sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh}
        .container{max-width:1200px;margin:0 auto;padding:20px}
        .card{background:rgba(255,255,255,0.95);padding:25px;border-radius:15px;margin-bottom:20px;box-shadow:0 10px 30px rgba(0,0,0,0.2)}
        header{background:rgba(255,255,255,0.95);padding:20px;border-radius:15px;margin-bottom:20px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px}
        .logo{font-size:28px;font-weight:bold;color:#667eea}
        button{padding:10px 20px;border:none;border-radius:8px;cursor:pointer;font-size:14px;margin:5px}
        .btn-primary{background:#667eea;color:white}
        .btn-success{background:#28a745;color:white}
        .btn-danger{background:#dc3545;color:white}
        .btn-warning{background:#ffc107;color:#212529}
        .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}
        .turma-card{background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:20px;border-radius:12px;cursor:pointer}
        .hidden{display:none!important}
        input,select,textarea{width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:8px;margin:5px 0}
        .modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);display:flex;justify-content:center;align-items:center;z-index:1000}
        .modal-content{background:white;padding:30px;border-radius:15px;max-width:500px;width:90%;max-height:80vh;overflow-y:auto}
        table{width:100%;border-collapse:collapse;margin-top:15px}
        th,td{padding:12px;text-align:left;border-bottom:1px solid #ddd}
        th{background:#667eea;color:white}
        .stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px;margin-bottom:20px}
        .stat-card{background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:20px;border-radius:12px;text-align:center}
        .login-mode{display:flex;gap:20px;justify-content:center;margin-bottom:30px;flex-wrap:wrap}
        .mode-option{padding:20px 40px;border:3px solid #e0e0e0;border-radius:15px;cursor:pointer;text-align:center}
        .mode-option.selected{border-color:#667eea;background:#f0f4ff}
    </style>
</head>
<body>
    <div class="container">
        <div id="tela-login" class="card" style="max-width:800px;margin:50px auto;text-align:center">
            <h2>üéì Bem-vindo ao EduFlow</h2>
            <p style="color:#666;margin:20px 0">Escolha como deseja acessar</p>
            <div class="login-mode">
                <div class="mode-option" onclick="selecionarModo('aluno',this)">
                    <div style="font-size:40px">üë®‚Äçüéì</div>
                    <h3>Modo Aluno</h3>
                </div>
                <div class="mode-option" onclick="selecionarModo('professor',this)">
                    <div style="font-size:40px">üë®‚Äçüè´</div>
                    <h3>Modo Professor</h3>
                </div>
            </div>
            <div id="senha-section" class="hidden" style="max-width:300px;margin:0 auto">
                <input type="password" id="senha-input" placeholder="Digite a senha">
                <button class="btn-primary" onclick="verificarSenha()" style="width:100%;margin-top:10px">Acessar</button>
                <p id="senha-erro" style="color:#dc3545;display:none;margin-top:10px">Senha incorreta!</p>
            </div>
        </div>

        <div id="dashboard" class="hidden">
            <header>
                <div class="logo">üéì EduFlow</div>
                <div>
                    <span id="modo-atual" style="margin-right:15px;color:#666"></span>
                    <button class="btn-primary" onclick="mostrarTurmas()">Turmas</button>
                    <button class="btn-success" onclick="mostrarAtividades()">Atividades</button>
                    <button class="btn-warning" onclick="exportarDados()">Exportar</button>
                    <button class="btn-danger" onclick="sair()">Sair</button>
                </div>
            </header>
            <div class="stats">
                <div class="stat-card"><h3 id="total-turmas">0</h3><p>Turmas</p></div>
                <div class="stat-card"><h3 id="total-alunos">0</h3><p>Alunos</p></div>
                <div class="stat-card"><h3 id="total-atividades">0</h3><p>Atividades</p></div>
            </div>
            <div id="conteudo"></div>
        </div>
    </div>

    <div id="modal" class="modal hidden" onclick="if(event.target===this)fecharModal()">
        <div class="modal-content">
            <span onclick="fecharModal()" style="float:right;font-size:28px;cursor:pointer">&times;</span>
            <div id="modal-body"></div>
        </div>
    </div>

    <script>
        const DADOS_EMBUTIDOS = {"turmas":[{"id":"1771429568776","nome":"101","alunos":[{"id":0,"nome":"ACKSON MIGUEL MAC√äDO DE SOUSA","iniciais":"AM"},{"id":1,"nome":"ANA LIVIA CAVALCANTE DE MELO","iniciais":"AL"},{"id":2,"nome":"ANNA VICTHORIA BEZERRA DE SOUZA","iniciais":"AV"},{"id":3,"nome":"ANTONIO OLIVEIRA DE SOUZA","iniciais":"AO"},{"id":4,"nome":"ARTHUR CARVALHO DOS SANTOS","iniciais":"AC"},{"id":5,"nome":"CAU√É VICTOR FERNANDES SALES","iniciais":"CV"},{"id":6,"nome":"DENISE DUARTE DE SOUSA","iniciais":"DD"},{"id":7,"nome":"ELLOAH VICTORIA DE CARVALH","iniciais":"EV"},{"id":8,"nome":"EMERSON BATISTA ALVES","iniciais":"EB"},{"id":9,"nome":"EMILLY VIT√ìRIA DE SOUSA GON√áALVES","iniciais":"EV"},{"id":10,"nome":"FRANCISCO BARROS DE MORAIS","iniciais":"FB"},{"id":11,"nome":"GRAZIELLA GOMES COSTA MENESES","iniciais":"GG"},{"id":12,"nome":"GUILHERME OLIVEIRA DA SILVA","iniciais":"GO"},{"id":13,"nome":"HUAM EMMANUELL IN√ÅCIO FELIX MACEDO","iniciais":"HE"},{"id":14,"nome":"ICARO FERNANDES DE SOUZA SANTOS","iniciais":"IF"},{"id":15,"nome":"ISABELA CASTRO MEDEIROS","iniciais":"IC"},{"id":16,"nome":"ISABELLA LARANGEIRA RODRIGUES","iniciais":"IL"},{"id":17,"nome":"JOS√â DANIEL DE OLIVEIRA PAZ","iniciais":"JD"},{"id":18,"nome":"JOYCE NIKELLY SILVA SOUSA","iniciais":"JN"},{"id":19,"nome":"JUAN LUCAS DA SILVA GOMES","iniciais":"JL"},{"id":20,"nome":"KASSIANO PACHECO DO NASCIMENTO","iniciais":"KP"},{"id":21,"nome":"KAYLA GABRYELE DA SILVA REIS","iniciais":"KG"},{"id":22,"nome":"LAIS PEREIRA DA SILVA","iniciais":"LP"},{"id":23,"nome":"LUCYANNA GABRYELLY R.DOS S. SILVA","iniciais":"LG"},{"id":24,"nome":"LUIZ FILIPE FERREIRA BATISTA","iniciais":"LF"},{"id":25,"nome":"MARIA CLARA DA SILVA RODRIGUES","iniciais":"MC"},{"id":26,"nome":"MARIA CLARA DE SOUZA MACEDO","iniciais":"MC"},{"id":27,"nome":"MARIA CLARA MENDES VIEIRA R. DA SILVA","iniciais":"MC"},{"id":28,"nome":"MARIA EDUARDA FEITOSA SILVA","iniciais":"ME"},{"id":29,"nome":"MIRELLY CRISTINNY DO N. OLIVEIRA","iniciais":"MC"},{"id":30,"nome":"NYLMARA NYCOLY ALVES DE SOUSA","iniciais":"NN"},{"id":31,"nome":"PEDRO MORAES DE CARVALHO JUNIOR","iniciais":"PM"},{"id":32,"nome":"SAYURE VICTORIA COSTA LEAL","iniciais":"SV"}]},{"id":"1771429747670","nome":"102","alunos":[{"id":0,"nome":"ALANNA DIAS MUNIZ MORAES","iniciais":"AD"},{"id":1,"nome":"ANA CLARA DE SOUSA CASTRO","iniciais":"AC"},{"id":2,"nome":"ANDRE ALVES DE SOUSA","iniciais":"AA"},{"id":3,"nome":"DAVI EMANUEL ROCHA CASTRO","iniciais":"DE"},{"id":4,"nome":"DOUGLAS DE SOUZA SILVA","iniciais":"DD"},{"id":5,"nome":"EMILY YASMIM FERREIRA SALES","iniciais":"EY"},{"id":6,"nome":"FABRICIA DOS SANTOS NASCIMENTO","iniciais":"FD"},{"id":7,"nome":"IAGO DA SILVA SOUZA","iniciais":"ID"},{"id":8,"nome":"ILLA RAVENNA MARTINS SOARES","iniciais":"IR"},{"id":9,"nome":"ISABELA DE OLIVEIRA SILVA DA ROCHA","iniciais":"ID"},{"id":10,"nome":"JOS√â GABRIEL CASSEMIRO ALMEIDA","iniciais":"JG"},{"id":11,"nome":"K√ÅREN JOKAS SANTANA RODRIGUES","iniciais":"KJ"},{"id":12,"nome":"KAWANE IZABELA VELOZO VIANA","iniciais":"KI"},{"id":13,"nome":"KAYKE OLIVEIRA BARBOSA","iniciais":"KO"},{"id":14,"nome":"LUIS EDUARDO DIAS OLIVEIRA","iniciais":"LE"},{"id":15,"nome":"MARIA CLARA AVELINO SIQUEIRA","iniciais":"MC"},{"id":16,"nome":"MARIA CLARA DE OLIVEIRA SOUZA","iniciais":"MC"},{"id":17,"nome":"MARIA EDUARDA DE OLIVEIRA SOUZA","iniciais":"ME"},{"id":18,"nome":"MARIA EDUARDA RODRIGUES DOS SANTOS","iniciais":"ME"},{"id":19,"nome":"MIRYAN AVELINO DO NASCIMENTO","iniciais":"MA"},{"id":20,"nome":"MOIS√âS SARAIVA DA SILVA PENHA","iniciais":"MS"},{"id":21,"nome":"NYCOLAS DA SILVA LASEVICIUS","iniciais":"ND"},{"id":22,"nome":"PEDRO VICTOR DE SOUSA LOPES","iniciais":"PV"},{"id":23,"nome":"RAQUEL FERREIRA COSTA","iniciais":"RF"},{"id":24,"nome":"RIANNY GABRIELLY DA SILVA FEITOSA","iniciais":"RG"},{"id":25,"nome":"SAMILA NICOLE MARCELINO ALVES","iniciais":"SN"},{"id":26,"nome":"SANDRYELSON SILVA DE AZEVEDO","iniciais":"SS"},{"id":27,"nome":"SAUL JHONATAS DA SILVA OLIVEIRA","iniciais":"SJ"},{"id":28,"nome":"TALISSON VICTOR M. DOS S. OLIVEIRA","iniciais":"TV"},{"id":29,"nome":"THAYN√Å MARIA SOUSA SILVA","iniciais":"TM"},{"id":30,"nome":"THAYNARA DE JESUS SANTANA DA SILVA","iniciais":"TD"},{"id":31,"nome":"YSABELLA FELL√çCYA ARA√öJO SOUSA","iniciais":"YF"}]}],"atividades":[],"entregas":[]};
        
        const SENHA_PROFESSOR = "fred2026";
        let modoAtual = null;
        let dados = {turmas:[],atividades:[],entregas:[]};
        
        function carregarDados() {
            dados = JSON.parse(JSON.stringify(DADOS_EMBUTIDOS));
            let salvos = localStorage.getItem('eduflow_dados');
            if(salvos) {
                let d = JSON.parse(salvos);
                if(d.atividades) dados.atividades = d.atividades;
                if(d.entregas) dados.entregas = d.entregas;
            }
            atualizarStats();
        }
        
        function salvarDados() { localStorage.setItem('eduflow_dados',JSON.stringify(dados)); }
        
        function selecionarModo(modo,el) {
            modoAtual = modo;
            document.querySelectorAll('.mode-option').forEach(e=>e.classList.remove('selected'));
            el.classList.add('selected');
            document.getElementById('senha-section').classList.toggle('hidden',modo!=='professor');
            if(modo==='aluno') setTimeout(mostrarDashboard,300);
        }
        
        function verificarSenha() {
            if(document.getElementById('senha-input').value===SENHA_PROFESSOR) mostrarDashboard();
            else { document.getElementById('senha-erro').style.display='block'; setTimeout(()=>document.getElementById('senha-erro').style.display='none',3000); }
        }
        
        function mostrarDashboard() {
            document.getElementById('tela-login').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
            document.getElementById('modo-atual').textContent = modoAtual==='professor'?'üë®‚Äçüè´ Professor':'üë®‚Äçüéì Aluno';
            mostrarTurmas();
        }
        
        function atualizarStats() {
            document.getElementById('total-turmas').textContent=dados.turmas.length;
            document.getElementById('total-alunos').textContent=dados.turmas.reduce((a,t)=>a+(t.alunos?t.alunos.length:0),0);
            document.getElementById('total-atividades').textContent=dados.atividades.length;
        }
        
        function mostrarTurmas() {
            let html='<div class="card"><h2 style="margin-bottom:20px">Turmas</h2><div class="grid">';
            dados.turmas.forEach(t=>{
                html+=`<div class="turma-card" onclick="verTurma('${t.id}')"><h3>Turma ${t.nome}</h3><p>${t.alunos?t.alunos.length:0} alunos</p></div>`;
            });
            html+='</div></div>';
            document.getElementById('conteudo').innerHTML=html;
        }
        
        function verTurma(id) {
            let t=dados.turmas.find(x=>x.id===id);
            if(!t)return;
            let html=`<div class="card"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px"><h2>Turma ${t.nome}</h2><button class="btn-primary" onclick="mostrarTurmas()">‚Üê Voltar</button></div>`;
            if(t.alunos&&t.alunos.length) {
                html+='<table><thead><tr><th>Nome</th><th>Iniciais</th></tr></thead><tbody>';
                t.alunos.forEach(a=>html+=`<tr><td>${a.nome}</td><td>${a.iniciais}</td></tr>`);
                html+='</tbody></table>';
            } else html+='<p>Nenhum aluno</p>';
            html+='</div>';
            document.getElementById('conteudo').innerHTML=html;
        }
        
        function mostrarAtividades() {
            let html='<div class="card"><h2>Atividades</h2>';
            if(!dados.atividades.length) html+='<p>Nenhuma atividade</p>';
            else {
                html+='<div class="grid">';
                dados.atividades.forEach(a=>{
                    let turma=dados.turmas.find(x=>x.id===a.turmaId);
                    html+=`<div class="turma-card" onclick="verAtividade('${a.id}')"><h3>${a.titulo}</h3><p>Turma: ${turma?turma.nome:'N/A'}</p></div>`;
                });
                html+='</div>';
            }
            if(modoAtual==='professor') html+='<button class="btn-success" onclick="criarAtividade()" style="margin-top:20px">+ Nova Atividade</button>';
            html+='</div>';
            document.getElementById('conteudo').innerHTML=html;
        }
        
        function criarAtividade() {
            let html=`<h3>Nova Atividade</h3><input id="titulo" placeholder="T√≠tulo"><textarea id="desc" placeholder="Descri√ß√£o" rows="3"></textarea><select id="turma">`;
            dados.turmas.forEach(t=>html+=`<option value="${t.id}">Turma ${t.nome}</option>`);
            html+=`</select><button class="btn-success" onclick="salvarAtividade()">Salvar</button>`;
            document.getElementById('modal-body').innerHTML=html;
            document.getElementById('modal').classList.remove('hidden');
        }
        
        function salvarAtividade() {
            let a={
                id:Date.now().toString(),
                titulo:document.getElementById('titulo').value,
                descricao:document.getElementById('desc').value,
                turmaId:document.getElementById('turma').value
            };
            dados.atividades.push(a);
            salvarDados();
            atualizarStats();
            fecharModal();
            mostrarAtividades();
        }
        
        function verAtividade(id) {
            let a=dados.atividades.find(x=>x.id===id);
            let turma=dados.turmas.find(x=>x.id===a.turmaId);
            let html=`<h2>${a.titulo}</h2><p><strong>Turma:</strong> ${turma?turma.nome:'N/A'}</p><p>${a.descricao}</p>`;
            if(modoAtual==='aluno'&&turma) {
                html+=`<h3 style="margin-top:20px">Enviar Resposta</h3><select id="aluno"><option value="">Selecione seu nome</option>`;
                turma.alunos.forEach((x,i)=>html+=`<option value="${i}">${x.nome}</option>`);
                html+=`</select><textarea id="resp" rows="3" placeholder="Sua resposta"></textarea><button class="btn-success" onclick="enviarResposta('${id}')">Enviar</button>`;
            }
            document.getElementById('modal-body').innerHTML=html;
            document.getElementById('modal').classList.remove('hidden');
        }
        
        function enviarResposta(id) {
            let alunoId=document.getElementById('aluno').value;
            let resp=document.getElementById('resp').value;
            if(!alunoId||!resp.trim()){alert('Preencha todos os campos!');return;}
            dados.entregas.push({id:Date.now().toString(),atividadeId:id,alunoId:parseInt(alunoId),resposta:resp,data:new Date().toISOString()});
            salvarDados();
            fecharModal();
            alert('Enviado com sucesso!');
        }
        
        function exportarDados() {
            let blob=new Blob([JSON.stringify(dados,null,2)],{type:'application/json'});
            let url=URL.createObjectURL(blob);
            let a=document.createElement('a');
            a.href=url;
            a.download='eduflow_backup_'+new Date().toISOString().split('T')[0]+'.json';
            a.click();
        }
        
        function fecharModal(){document.getElementById('modal').classList.add('hidden');}
        function sair(){location.reload();}
        
        document.addEventListener('DOMContentLoaded',carregarDados);
    </script>
</body>
</html>
